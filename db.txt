CREATE TABLE `ADUNDOCS_CATEGORY` (
`id` int(11) NOT NULL,
  `dirName` varchar(50) NOT NULL,
  `subName` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE `ADUNDOCS_CATEGORY`
  ADD PRIMARY KEY (`id`),
  ADD KEY `dirName` (`dirName`),
  ADD KEY `subName` (`subName`);


CREATE TABLE `ADUNDOCS_ARTICLE` (
`id` int(11) NOT NULL,
  `dirName` varchar(50) CHARACTER SET utf8 NOT NULL,
  `subName` varchar(50) CHARACTER SET utf8 NOT NULL,
  `fileName` varchar(100) CHARACTER SET utf8 NOT NULL,
  `fileData` text CHARACTER SET utf8 NOT NULL,
  `btime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `mtime` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


ALTER TABLE `ADUNDOCS_ARTICLE`
  ADD PRIMARY KEY (`id`),
  ADD KEY `dirName` (`dirName`),
  ADD KEY `subName` (`subName`);

ALTER TABLE `ADUNDOCS_ARTICLE`
  ADD CONSTRAINT `ADUNDOCS_ARTICLE_ibfk_1` FOREIGN KEY (`dirName`) REFERENCES `ADUNDOCS_CATEGORY` (`dirName`) ON UPDATE CASCADE,
  ADD CONSTRAINT `ADUNDOCS_ARTICLE_ibfk_2` FOREIGN KEY (`subName`) REFERENCES `ADUNDOCS_CATEGORY` (`subName`) ON UPDATE CASCADE;

ALTER TABLE `ADUNDOCS_CATEGORY` CHANGE `id` `id` INT( 11 ) NOT NULL AUTO_INCREMENT

ALTER TABLE  `ADUNDOCS_ARTICLE` CHANGE  `id`  `id` INT( 11 ) NOT NULL AUTO_INCREMENT

insert into ADUNDOCS_CATEGORY set dirName ="test", subName="test"